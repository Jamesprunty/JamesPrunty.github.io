<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>James Prunty</title>
    <link rel="stylesheet" href="../../../JS30/GeneralStyle.css">
    <link rel="stylesheet" href="../Datastructure.css">
    <link rel="stylesheet" href=".//Trie.css">
</head>

<body>

    <h1>Tries</h1>


    <div id="contentContainer">

        <div id="SummaryContainer">

            <p id="summary">
                A Trie is a digital or prefex tree structure used for locating specific keys in a set. <br>
                It is used to store dictionary lists of words and is very efficient at searcing for words.<br><br>
            </p>

        </div>

        <div id="visualContainer">


            <div id="controlContainer" class="control">


                <div id="input" class="controlBtns">
                    <input type="text" id="elem" placeholder="Value">
                    <div id="addDiv">
                        <input type="button" class="btn" id="add" value="Add">
                    </div>
                    <div id="findDiv">
                        <input type="button" class="btn" id="isWord" value="IsWord">
                    </div>
                    <div id="presentDiv">
                        <input type="button" class="btn" id="printbtn" value="Print">
                    </div>
                    <div id="resetDiv">
                        <input type="button" class="btn" id="reset" value="reset">
                    </div>
                </div>



                <div id="trie">
                    <svg id="trieSVG">

                    </svg>




                </div>

                <div id="outputContainer">

                    <div id="output">
                        <p id="outputText"></p>
                    </div>

                </div>

            </div>



            <div id="explinationContainer">

                <h2>The Node</h2><br><br>

                <p id="explination">
                    First we have to create the node class which will store our node data.<br><br>
                </p>
                <p class="code">
                    let Node = function(posX = xStart, posY = yCenter, previousX, previousY, value, previousNode, colour, root = "root") {<br>
                        this.keys = new Map();<br>
                        this.end = false;<br>
                        this.posX = posX;<br>
                        this.posY = posY;<br>
                       // this.level = level;//Stores what level the node is on<br>
                        this.colour = colour;<br>
                        this.previousX = previousX;<br>
                        this.previousY = previousY;<br>
                        this.value = value;<br>
                        this.previousNode = previousNode;<br>
                        this.root = root;<br><br>
                        
                        this.setEnd = function() {<br>
                            this.end = true;<br>
                        };<br><br>
                        this.isEnd = function() {<Br>
                            return this.end;<br>
                        };<br>
                    };<br><br>
                </p>

                <p>

                </p>

                <h2>Add</h2><br><br>
                <p>

                </p>
                <p class="code">
                    this.add = function(input, node = this.root) {<br>

		
                        if (input.length == 0) {//if we are at the end of the word<br>
                            node.setEnd(); //Set end of a word<br>
                            node.colour = "red";<br>
                            addNode( node.value, node.posX, node.posY, "red", node.root); <br>
                            level = 0;<br>
                            return;<br><br>
                
                        } else if (!node.keys.has(input[0])) {//If the node does not have the key of input[0] already,<br>
                
                            //If this node does not exist we need to add it in.<br>
                            level++;<br>
                            
                            if(node == this.root){<br>
                
                                let newX = xStart + 70;<br>
                                let newY = yCenter + 200;<br>
                
                
                                for(let i=0;i < posArray.length;i++){<br>
                                    if(newX == posArray[i][0] && newY == posArray[i][1]){<br>
                                        
                                        newY -= 70;<br>
                                        
                                        
                                    }else if(newX == posArray[i][0] && newY == posArray[i][1]){<br>
                                        
                                        break;<br>
                                    }<br>
                                }<br><br>
                
                                node.keys.set(input[0], new Node(newX, newY, node.posX, node.posY, input[0], node, "white", input[0]));<br>

                                addLine(xStart,yCenter,newX,newY)<br>
                                addNode(input.substr(0,1), newX, newY, "white", input.substr(0,1));<br> 
                                addNode("root", xStart, yCenter, "white", "root");<br>
                                posArray.push([newX,newY]);<br>
                
                                
                
                
                            }else{<br>
                
                
                
                            let newX = node.posX + 70;<br>
                            let newY = node.posY;<br>
                
                            for(let i=0;i < posArray.length;i++){<br>
                                if(newX == posArray[i][0] && newY == posArray[i][1]){<br>
                                
                                    newY -= 70;<br>
                                    
                                    
                                }else if(newX == posArray[i][0] && newY == posArray[i][1]){<br>
                                    
                                    break;<br>
                                }<br>
                            }<br>
                
                
                            node.keys.set(input[0], new Node(newX, newY, node.posX, node.posY, input[0], node, "white", node.root)); //Add a key of that letter and make the contents of the key the new node, which will have its own keys<br>
                            console.log(node);<br>
                            //Next we need to add it to the visual tree.<br>
                            //We want it to dynamically change when things are added. Make a note of all the places before adding it, change if it conflicts.<br> 
                
                
                            let index = 0;<br>
                            addLine(node.posX,node.posY,newX,newY)<br>
                            addNode(input.substr(0,1), newX, newY, node.colour);<br> 
                            addNode(node.value, node.posX, node.posY, node.colour); <br>
                            posArray.push([newX,newY]);<br>
                            
                            //we want to take the previous node, add 70 to X, if something is there add 70 to y, keep going until nothing is there.<br>
                                
                
                
                
                            }<br>
                
                            return this.add(input.substr(1), node.keys.get(input[0], node));//run add node on the string again, from the first position, which will keep going until there are none left. The root node will be the new key.<br>
                        
                            
                        
                        
                        } else {<br>
                            level++;<br>
                            return this.add(input.substr(1), node.keys.get(input[0])); // If there is a key already, rerun the add method with the key as the new root node.<br>
                            
                        };<br>
                    };<br><br>

                </p>
                <p>

                </p>

                <p>

                </p>

                <h2>Is Word</h2><br><br>
                <p>

                </p>
                <p class="code">

                    this.isWord = function(word) {<br>
                        let node = this.root;<br>
                        while (word.length > 1) {<br>
                            if (!node.keys.has(word[0])) {<br>
                                return false;<br>
                            } else {<br>
                                node = node.keys.get(word[0]);<br>
                                word = word.substr(1);<br>
                            };<br>
                        };<br>
                        return (node.keys.has(word) && node.keys.get(word).isEnd()) ?<br> 
                      true : false;<br>
                    };<br><br>

                </p>
                <p>
                    
                </p>

                <p>

                </p>

                <h2>Print</h2><br><br>
                <p>

                </p>
                <p class="code">
                    this.print = function() {<br>
                        let words = new Array();<br>
                        let search = function(node, string) {<br>
                            if (node.keys.size != 0) {<br>
                                for (let letter of node.keys.keys()) {<br>
                                    search(node.keys.get(letter), string.concat(letter));<br>
                                };<br>
                                if (node.isEnd()) {<br>
                                    words.push(string);<br>
                                };<br>
                            } else {<br>
                                string.length > 0 ? words.push(string) : undefined;<br>
                                return;<br>
                            };<br>
                        };<br>
                        search(this.root, new String());<br>
                        return words.length > 0 ? words : mo;<br>
                    };<br><br>

                </p>
                <p>
                    
                </p>

                <p>

                </p>

               


            </div>

        </div>


</body>

<script type="application/javascript" src=".//Trie.js"></script>

</html>